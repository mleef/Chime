window.onload = function () {
    // TODO:: Do your initialization job

	console.log("Reached js");
	var registration = {
		registrationMessage: {
			previousChannel: null,
			newChannel: {id: "2"},
			television: {id: "tv1"}
		}
	};

	var chime = {
		chimeMessage : {
			channel : {id : "2"}, 
			television : {id : "tv3"},
			message : "Test message.",
			timeSent : "1000"
		}
	};
	
	var socket = new WebSocket('ws:ec2-54-152-59-214.compute-1.amazonaws.com:4445');
	socket.close();
	socket.onopen = function () {
		console.log("connection opened.");
		alert('Reached open connection');
		//socket.send(JSON.stringify(registration));
	}
	/*
	socket.onmessage = function () {
		console.log("message received");		
	}
	*/

	if (navigator.onLine) {
		alert("online");
	} else {
		alert("not online");
	}
    // add eventListener for tizenhwkey
    document.addEventListener('tizenhwkey', function(e) {
        if(e.keyName === "back")
			try {
			    tizen.application.getCurrentApplication().exit();
			} catch (ignore) {
			}
    	});

    // Sample code
    var textbox = document.querySelector('.contents');
    textbox.addEventListener("click", function(){
    	box = document.querySelector('#textbox');
    	box.innerHTML = box.innerHTML == "Basic" ? "Sample" : "Basic";
    });
    
};
